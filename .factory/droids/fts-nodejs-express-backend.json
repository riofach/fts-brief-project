{"name": "fts-nodejs-express-backend", "description": "Complete Node.js + Express + PostgreSQL backend setup for FTS Brief Management System", "version": "1.0.0", "author": "PT Fujiyama Technology Solutions", "tags": ["nodejs", "express", "postgresql", "prisma", "typescript", "jwt", "rest-api", "backend"], "category": "backend", "estimatedTime": "2-3 hours", "difficulty": "intermediate", "requirements": {"runtime": "Node.js >= 18.0.0", "packageManager": "npm >= 8.0.0 || yarn >= 1.22.0", "database": "PostgreSQL >= 13.0", "cloudPlatform": "Railway.app (recommended for PostgreSQL)", "tools": ["Git", "Code Editor (VS Code recommended)"]}, "techStack": {"runtime": {"name": "Node.js", "version": ">= 18.0.0", "description": "JavaScript runtime environment"}, "framework": {"name": "Express.js", "version": "latest", "description": "Web application framework for Node.js"}, "language": {"name": "TypeScript", "version": ">= 5.0.0", "description": "Typed superset of JavaScript"}, "database": {"name": "PostgreSQL", "version": ">= 13.0", "description": "Relational database management system"}, "orm": {"name": "Prisma", "version": "latest", "description": "Next-generation ORM for Node.js and TypeScript"}, "authentication": {"name": "JWT", "description": "JSON Web Token for stateless authentication"}, "validation": {"name": "Zod", "version": "latest", "description": "TypeScript-first schema validation"}, "passwordHashing": {"name": "bcryptjs", "version": "latest", "description": "JavaScript implementation of bcrypt password hashing"}, "development": {"name": "ESLint", "description": "Pluggable JavaScript linter", "name": "tsx", "description": "TypeScript loader and runner for Node.js", "name": "nodemon", "description": "Tool that helps develop Node.js applications"}}, "features": ["RESTful API with Express.js", "JWT-based authentication with role management (Admin/Client)", "PostgreSQL database with Prisma ORM", "TypeScript for type safety and better development experience", "Comprehensive validation using Zod schemas", "Role-based access control for secure API endpoints", "Real-time discussion system between clients and administrators", "Notification system for status updates and alerts", "Deliverable management for project assets (Figma, prototypes, etc.)", "Comprehensive error handling with consistent response format", "Database seeding with realistic demo data", "Production-ready deployment configuration", "Detailed documentation and architecture guides"], "setupSteps": [{"step": 1, "title": "Project Initialization", "description": "Create backend directory and initialize Node.js project with TypeScript", "commands": ["mkdir backend && cd backend", "npm init -y", "npm install -D typescript @types/node tsx nodemon eslint @typescript-eslint/parser @typescript-eslint/eslint-plugin", "npx tsc --init", "npm install express @prisma/client zod jsonwebtoken bcryptjs dotenv cors cookie-parser", "npm install -D prisma @types/express @types/jsonwebtoken @types/bcryptjs @types/cors @types/cookie-parser"]}, {"step": 2, "title": "Database Setup", "description": "Set up PostgreSQL with Prisma and create database schema", "commands": ["npx prisma init", "# Configure DATABASE_URL in .env", "npx prisma generate", "# Create database schema and run migrations", "npx prisma migrate dev --name init"]}, {"step": 3, "title": "Environment Configuration", "description": "Configure environment variables and basic project structure", "commands": ["# Create .env file with required variables", "DATABASE_URL=\"postgresql://user:password@host:port/database\"", "JWT_SECRET=\"your-secret-key-min-32-chars\"", "PORT=3000", "NODE_ENV=development", "FRONTEND_URL=http://localhost:5173", "# Create basic directory structure", "mkdir -p src/{config,middleware,controllers,services,routes,utils}"]}, {"step": 4, "title": "Core Dependencies Setup", "description": "Install and configure Express.js with middleware and basic setup", "code": {"typescript": "import express from 'express';\nimport cors from 'cors';\nimport dotenv from 'dotenv';\nimport cookieParser from 'cookie-parser';\n\ndotenv.config();\n\nconst app = express();\n\n// Middleware\napp.use(cors({\n  origin: process.env.FRONTEND_URL,\n  credentials: true\n}));\napp.use(express.json());\napp.use(cookieParser());\n\nexport default app;"}}, {"step": 5, "title": "Database Schema", "description": "Define Prisma schema with User, Brief, Deliverable, Discussion, and Notification models", "code": {"prisma": "// This will be provided in a separate schema.prisma file"}}, {"step": 6, "title": "Authentication System", "description": "Implement JWT-based authentication with role management", "components": ["JWT utilities for token generation and verification", "Authentication middleware for protected routes", "Role-based access control (Admin/Client)", "Password hashing with bcryptjs"]}, {"step": 7, "title": "API Endpoints", "description": "Create RESTful API endpoints for authentication, brief management, and discussions", "endpoints": ["/api/auth/login, /api/auth/refresh, /api/auth/logout", "/api/briefs (GET, POST, PUT)", "/api/briefs/:id/deliverables", "/api/briefs/:id/discussions", "/api/discussions/my, /api/discussions/search"]}, {"step": 8, "title": "Validation & Error Handling", "description": "Implement comprehensive input validation and error handling", "components": ["Zod schemas for request validation", "Global error handler middleware", "Consistent error response format", "Input sanitization and validation"]}, {"step": 9, "title": "Database Seeding", "description": "Create seed script with demo users and sample data", "features": ["Demo users (admin, clients)", "Sample briefs and projects", "Discussion messages", "Notification examples"]}, {"step": 10, "title": "Documentation & Testing", "description": "Create comprehensive documentation and test all endpoints", "deliverables": ["README.md with setup instructions", "ARCHITECTURE.md with system design", "API documentation with examples", "Manual API testing"]}], "fileStructure": {"description": "Complete project structure with all necessary files", "structure": {"backend/": {"src/": {"config/": ["env.ts", "constants.ts"], "middleware/": ["auth.ts", "errorHandler.ts", "validation.ts"], "controllers/": ["authController.ts", "briefController.ts", "discussionController.ts"], "services/": ["authService.ts", "briefService.ts", "discussionService.ts", "notificationService.ts"], "routes/": ["auth.ts", "briefs.ts", "discussions.ts", "index.ts"], "utils/": ["jwt.ts"], "index.ts": "Express app entry point"}, "prisma/": ["schema.prisma", "seed.ts", "migrations/"], "scripts/": ["manual-api-tests.ts"], ".env": "Environment variables", ".env.example": "Environment template", "package.json": "Dependencies and scripts", "tsconfig.json": "TypeScript configuration", "eslint.config.js": "ESLint configuration", "README.md": "Setup guide", "ARCHITECTURE.md": "Technical documentation"}}, "deployment": {"platform": "Railway.app (recommended)", "database": "Railway PostgreSQL", "environment": {"development": {"NODE_ENV": "development", "DATABASE_URL": "local or Railway dev database", "FRONTEND_URL": "http://localhost:5173"}, "production": {"NODE_ENV": "production", "DATABASE_URL": "Railway production PostgreSQL", "FRONTEND_URL": "deployed-frontend-url", "JWT_SECRET": "secure-64-character-random-string"}}, "scripts": {"build": "npm run build", "start": "npm start", "migrate": "npx prisma migrate deploy", "seed": "npx prisma db seed"}}, "testing": {"manual": "Use provided curl examples in README.md", "automated": "npm run manual:test runs comprehensive API tests", "endpoints": "18 total endpoints covering all functionality", "coverage": "Authentication, CRUD operations, role-based access, error handling"}, "demoData": {"users": [{"email": "admin@fts.biz.id", "password": "admin123", "role": "ADMIN"}, {"email": "client@demo.com", "password": "client123", "role": "CLIENT"}, {"email": "sarah@boutique.com", "password": "design123", "role": "CLIENT"}], "sampleData": ["3 Project briefs with realistic data", "4 Deliverables (Figma, prototypes, documents)", "5 Discussion messages", "4 Notifications"]}, "apiDocumentation": {"endpoints": {"authentication": ["POST /api/auth/login", "POST /api/auth/refresh", "POST /api/auth/logout", "GET /api/auth/me"], "briefs": ["GET /api/briefs", "POST /api/briefs", "GET /api/briefs/:id", "PUT /api/briefs/:id", "GET /api/briefs/:id/deliverables", "POST /api/briefs/:id/deliverables"], "discussions": ["POST /api/briefs/:id/discussions", "GET /api/briefs/:id/discussions", "GET /api/discussions/my", "GET /api/discussions/search", "DELETE /api/discussions/:id"], "system": ["GET /health", "GET /api"]}, "responseFormat": {"success": {"success": true, "data": {}, "message": "Operation successful"}, "error": {"success": false, "error": {"code": "ERROR_CODE", "message": "Human-readable message"}}}}, "commonIssues": [{"issue": "Database connection failed", "solution": "Verify DATABASE_URL in .env and ensure PostgreSQL is running"}, {"issue": "JWT token invalid", "solution": "Check JWT_SECRET is set and tokens haven't expired (15min default)"}, {"issue": "Port already in use", "solution": "Change PORT in .env or kill existing process on port 3000"}, {"issue": "Prisma client missing", "solution": "Run npm install and npm run prisma:generate"}], "performance": {"database": {"connection": "Railway PostgreSQL with connection pooling", "optimization": "Proper indexing and query optimization", "migrations": "Version-controlled schema changes"}, "api": {"caching": "Consider Redis for session management", "pagination": "Implemented for list endpoints", "rate_limiting": "Recommended for production"}, "deployment": {"platform": "Railway.app for seamless deployment", "monitoring": "Health check endpoints available", "scaling": "Horizontal scaling ready with stateless design"}}, "nextSteps": [{"phase": "Frontend Integration", "tasks": ["Connect React frontend to backend API", "Implement TanStack Query for state management", "Set up authentication flow with JWT", "Create user interface for all endpoints"]}, {"phase": "Production Deployment", "tasks": ["Deploy to Railway with environment variables", "Set up monitoring and logging", "Configure SSL/HTTPS", "Implement rate limiting and security headers"]}, {"phase": "Enhancements", "tasks": ["Add file upload for deliverables", "Implement real-time notifications with WebSockets", "Add email notifications", "Create admin dashboard for analytics"]}], "support": {"documentation": "Comprehensive README.md and ARCHITECTURE.md included", "examples": "All endpoints documented with curl examples", "demoData": "Realistic sample data for testing and development", "troubleshooting": "Common issues and solutions documented"}}
